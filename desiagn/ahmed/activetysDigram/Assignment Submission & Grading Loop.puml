@startuml

' Color Customization
skinparam {
    BackgroundColor white
    ArrowColor #4C5FD5
    
    ' Activity Diagram specific
    ActivityBackgroundColor white
    ActivityBorderColor #4C5FD5
    ActivityStartColor #4C5FD5
    ActivityEndColor #4C5FD5
    ActivityBarColor #4C5FD5
    ActivityDiamondBackgroundColor white
    ActivityDiamondBorderColor #4C5FD5
    
    ' Notes
    NoteBackgroundColor #FBBF24
    NoteBorderColor #FBBF24
    
    ' Error/Warning (custom styles if needed)
    ' Error: #EF4444
}


title Assignment Submission & Grading Loop
skinparam activityBackgroundColor #FFF0F5
skinparam activityBorderColor #C71585

partition Student {
  start
  :Open Assignment Activity;
  if (Before Due Date?) then (yes)
    :Prepare Submission;
    :Upload File / Type Text;
    :Click "Submit";
  else (no)
    if (Late Submission Allowed?) then (yes)
      :Submit with Late Penalty;
    else (no)
      :Submission Blocked;
      stop
    endif
  endif
}

partition System {
  :Validate Submission;
  :Save to Storage (S3);
  :Update assign_submission status;
  :Notify Instructor;
}

partition Instructor {
  :Receive Notification;
  :Open Gradebook;
  :Review Submission;
  :Assign Grade (0-100);
  :Add Feedback Comments;
  :Click "Save Grade";
}

partition System {
  :Update assign_grades;
  :Calculate Course Average;
  :Send Grade Notification;
}

partition Student {
  :Receive Notification;
  :View Grade & Feedback;
  stop
}

@enduml