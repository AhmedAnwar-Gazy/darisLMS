@startuml AssignmentSubmissionWorkflow
title Assignment Submission Workflow (SMD-04)
hide empty description

state "New / Not Started" as new_assignment
state "Draft" as draft_assignment
state "Submitted" as submitted
state "Late Submitted" as late_submitted
state "Grading in Progress" as grading_progress
state "Graded/Released" as graded_released

[*] --> new_assignment

new_assignment --> draft_assignment : Upload File / Save Text()
draft_assignment --> draft_assignment : Update File()
draft_assignment --> submitted : Click Submit() \n(Time < Due Date)
draft_assignment --> late_submitted : Click Submit() \n(Time > Due Date)
submitted --> draft_assignment : Instructor Unlocks Submission()
submitted --> grading_progress : Instructor Opens Grading Interface()
grading_progress --> graded_released : Save Grade()

graded_released --> [*]

note right of draft_assignment
  Files/text saved
  Student can still modify
  Not finalized
end note

note right of submitted
  Content locked from editing
  Submitted before Due Date
  Ready for grading
end note

note right of late_submitted
  Submitted after Due Date
  Only if Cut-off Date not passed
  Late penalty may apply
end note

note right of graded_released
  Score assigned
  Feedback provided
  Student notified
  Recorded in gradebook
end note

@enduml